function setIframeHeight(iframe){"use strict";if(iframe)$(iframe).on("load",function(){var iframeWin=iframe.contentWindow||iframe.contentDocument.parentWindow;if(iframeWin.document.body){var coursePageContentHeading=$(iframeWin.document.body).find("#course-page-content > h2").text();if(!coursePageContentHeading||coursePageContentHeading.indexOf("System Error")<0){var iframeHeight=$(iframeWin.document.documentElement).height(),iframeScrollHeight=iframeWin.document.body.scrollHeight,newHeight=Math.max(iframeHeight,iframeScrollHeight)+30;$(iframe).animate({height:newHeight},"fast")}}})}$("#PeerAssessmentsEmbed").load(function(){"use strict";setIframeHeight(document.getElementById("PeerAssessmentsEmbed"))}),$(document).ready(function(){"use strict";$(".course-assignment-deadline-help").each(function(){var $popover=$(this).next(".course-assignment-deadline-popover");$(this).popover({placement:"left",html:!0,title:$popover.find("[data-popover-title]").html(),content:$popover.find("[data-popover-content]").html()})});var currentYear=(new Date).getFullYear(),simplifyAbsoluteDateString=function(dateString){return dateString.replace(" "+currentYear,"").replace(/(\d+:\d+):\d+/,"$1").replace(/ AM/," am").replace(/ PM/," pm").replace(/(\d+:\d+ (am|pm)?).*/,"$1")};$(".hg-asst-interval-open .hg-date").livetimer({absolute:{pastFormat:function(str){return"opened on "+simplifyAbsoluteDateString(str)},futureFormat:function(str){return"open on "+simplifyAbsoluteDateString(str)}},relative:{pastFormat:" (%s ago)",futureFormat:" (%s)"},display:"absolute"}),$(".hg-asst-interval-close .hg-date").livetimer({absolute:{pastFormat:function(str){return"closed on "+simplifyAbsoluteDateString(str)},futureFormat:function(str){return"due on "+simplifyAbsoluteDateString(str)}},relative:{pastFormat:" (%s ago)",futureFormat:" (%s)"},display:"absolute"}),$(".hg-asst-interval-hard-close .hg-date").livetimer({absolute:{pastFormat:simplifyAbsoluteDateString,futureFormat:simplifyAbsoluteDateString},relative:{pastFormat:" (%s ago)",futureFormat:" (%s)"},display:"absolute"}),$(".hg-asst-interval-available .hg-date").livetimer({absolute:{pastFormat:function(str){return"available since "+simplifyAbsoluteDateString(str)},futureFormat:function(str){return"available on "+simplifyAbsoluteDateString(str)}},relative:{pastFormat:" (%s ago)",futureFormat:" (%s)"},display:"absolute"}),$(".hg-asst-line").each(function(i){var $this=$(this),$open=$this.find(".hg-asst-interval-open      > :coursera-livetimer, .hg-asst-interval-available > :coursera-livetimer"),$close=$this.find(".hg-asst-interval-close > :coursera-livetimer"),update=function(){var openIsPast=!$open.length||$open.livetimer("isPast"),closeIsPast=$close.length&&$close.livetimer("isPast"),status;if(openIsPast)if(!closeIsPast){if(status="current",$close.length)$open.parent().hide(),$close.parent().addClass("hg-asst-interval-wide-column"),$close.css("width","auto"),$close.livetimer("option","display","absoluteAndRelative")}else if(status="past",$close.length)$open.parent().show(),$close.parent().removeClass("hg-asst-interval-wide-column");$this.attr("data-hg-date-status",status);var openDate=$open.livetimer("getDate"),closeDate=$close.livetimer("getDate"),currentDate=new Date;if($open.length){var openSoon=currentDate>openDate-864e5&&openDate>=currentDate;$open.attr("data-hg-date-status",openSoon?"soon":"")}if($close.length){var closeSoon=currentDate>closeDate-864e5&&closeDate>=currentDate;$close.attr("data-hg-date-status",closeSoon?"soon":"")}$this.parent().find(".hg-go-to-button").toggleClass("btn-primary",!!$this.parent().children(".hg-asst-line").slice(0,2).filter("[data-hg-date-status=current]").length)};update(),$open.livetimer({hasPassed:function(){update()}}),$close.livetimer({hasPassed:function(){update()}})});var TOGGLE_DURATION=300,toggleDuration=0;$("#normal-toggle-button").toggleButtons({height:25,onChange:function($el,status,e){var hide=function(){return function(obj){$(obj).hide()}}(),show=function(){return function(obj){$(obj).show()}}();if(status)$(".hg-asst-list").addClass("hg-show-details"),show($(".hg-asst-line"));else{$(".hg-asst-list").removeClass("hg-show-details");var items=$("li.hg-asst-list-item");items.each(function(index){var showing,asstLines=$(this).find(".hg-asst-line");asstLines.each(function(index){var status=$(this).attr("data-hg-date-status"),last=asstLines[index-1],lastStatus=last&&$(last).attr("data-hg-date-status");if(showing)return void hide($(this));if("current"===status)return void(showing=this);if(0===index&&!status)return void(showing=this);if(index===asstLines.length-1)return void(showing=this);if(last&&"past"===lastStatus&&"past"!==status)return void(showing=this);hide($(this))})})}}}).find("input").trigger("change"),toggleDuration=TOGGLE_DURATION});